<!DOCTYPE html><html><head><meta charset="utf-8"><title>Orange API</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><style>@import url(http://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata|Raleway:200);.hljs-comment,.hljs-title{color:#8e908c}.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo{color:#c82829}.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant{color:#f5871f}.ruby .hljs-class .hljs-title,.css .hljs-rules .hljs-attribute{color:#eab700}.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.ruby .hljs-symbol,.xml .hljs-cdata{color:#718c00}.css .hljs-hexcolor{color:#3e999f}.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title{color:#4271ae}.hljs-keyword,.javascript .hljs-function{color:#8959a8}.hljs{display:block;background:white;color:#4d4d4c;padding:.5em}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata{opacity:.5}.hljs-comment,.hljs-title{color:#8e908c}.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo{color:#c82829}.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant{color:#f5871f}.ruby .hljs-class .hljs-title,.css .hljs-rules .hljs-attribute{color:#eab700}.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.ruby .hljs-symbol,.xml .hljs-cdata{color:#718c00}.css .hljs-hexcolor{color:#3e999f}.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title{color:#4271ae}.hljs-keyword,.javascript .hljs-function{color:#8959a8}.hljs{display:block;background:white;color:#4d4d4c;padding:.5em}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata{opacity:.5}body{color:black;background:white;font-family:'Roboto',Helvetica,sans-serif;font-size:14px;line-height:1.42}header{border-bottom:1px solid #ededed;margin-bottom:12px}h1,h2,h3,h4,h5{margin:12px 0}h1 .permalink,h2 .permalink,h3 .permalink,h4 .permalink,h5 .permalink{margin-left:6px;opacity:0;transition:opacity .25s ease}h1:hover .permalink,h2:hover .permalink,h3:hover .permalink,h4:hover .permalink,h5:hover .permalink{opacity:1}h1{font-family:'Raleway',Helvetica,sans-serif;font-size:36px;font-weight:500}h2{font-family:'Raleway',Helvetica,sans-serif;font-size:30px;font-weight:500}h3{font-size:100%;text-transform:uppercase}h5{font-size:100%;font-weight:normal}p{margin:0 0 10px}p.choices{line-height:1.6}a{color:#18bc9c;text-decoration:none}li p{margin:0}dl dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd{margin-left:180px}blockquote{font-size:17.5px;padding:10px 20px;margin:12px 0;border-left:5px solid #e8e8e8}blockquote p:last-child{margin-bottom:0}pre{background-color:#f5f5f5;padding:12px;border:1px solid #cfcfcf;border-radius:6px}pre code{background-color:transparent;border:none}code{color:#444;background-color:#ddd;font-family:'Inconsolata',monospace;padding:1px 4px;border:1px solid #cfcfcf;border-radius:3px}nav{position:fixed;top:24px;bottom:0;overflow-y:auto}nav .heading a{display:block;color:black;opacity:.7;border-left:2px solid transparent}nav .heading a:hover{border-left:2px solid black}nav ul{list-style-type:none;padding-left:0}nav ul a{display:block;font-size:13px;color:black;opacity:.7;padding:8px 12px;border-top:1px solid #ededed;border-left:2px solid transparent}nav ul a:hover{border-left:2px solid black}nav ul>li{margin:0 -12px}nav ul>li:first-child{margin-top:-12px}nav ul>li:last-child{margin-bottom:-24px}nav ul ul a{padding-left:24px}nav ul ul li{margin:0}nav ul ul li:first-child{margin-top:0}nav ul ul li:last-child{margin-bottom:0}nav>div>ul>li:first-child>a{border-top:none}.preload *{transition:none !important}.pull-left{float:left}.pull-right{float:right}.badge{display:inline-block;float:right;min-width:10px;min-height:14px;padding:3px 7px;font-size:12px;color:#000;background-color:#ededed;border-radius:10px;margin-top:-2px}.badge.get{color:#fff;background-color:#3498db}.badge.put{color:#fff;background-color:#f39c12}.badge.post{color:#fff;background-color:#18bc9c}.badge.delete{color:#fff;background-color:#e74c3c}.collapse-button{float:right}.collapse-button .close{display:none;color:#18bc9c;cursor:pointer}.collapse-button .open{color:#18bc9c;cursor:pointer}.collapse-button.show .close{display:inline}.collapse-button.show .open{display:none}.collapse-content{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}nav{width:220px}.container{max-width:940px;margin-left:auto;margin-right:auto}.container .row .content{margin-left:244px;width:696px}.container .row:after{content:'';display:block;clear:both}.container-fluid nav{width:22%}.container-fluid .row .content{margin-left:24%;width:76%}@media (max-width:1200px){nav{width:220px}.container{max-width:770px}.container .row .content{margin-left:244px;width:526px}}@media (max-width:992px){nav{width:170px}.container{max-width:720px}.container .row .content{margin-left:194px;width:526px}}@media (max-width:768px){nav{display:none}.container{width:95%;max-width:none}.container .row .content,.container-fluid .row .content{margin-left:auto;margin-right:auto;width:95%}}.back-to-top{position:fixed;z-index:1;bottom:0;right:24px;padding:4px 8px;color:rgba(0,0,0,0.5);background-color:#ededed;text-decoration:none !important;border-top:1px solid #ededed;border-left:1px solid #ededed;border-right:1px solid #ededed;border-top-left-radius:3px;border-top-right-radius:3px}.resource-group{padding:12px;margin-bottom:12px;border:1px solid #ededed;border-radius:6px}.resource-group h2,.resource-group .heading a{padding:12px;margin:-12px -12px 12px -12px;background-color:#ededed;border-bottom:1px solid #ededed;border-top-left-radius:6px;border-top-right-radius:6px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.action{margin-bottom:12px;padding:12px 12px 0 12px;overflow:hidden;border:1px solid transparent;border-radius:6px}.action h4{padding:12px;margin:-12px -12px 12px -12px;border-bottom:1px solid transparent;border-top-left-radius:6px;border-top-right-radius:6px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.action h4 .name{float:right;font-weight:normal}.action h4 .method{padding:6px 12px;margin-right:12px;border-radius:3px}.action h4 .method.get{color:#000;background-color:white}.action h4 .method.put{color:#000;background-color:white}.action h4 .method.post{color:#000;background-color:white}.action h4 .method.delete{color:#000;background-color:white}.action h4 code{color:#444;background-color:rgba(255,255,255,0.7);border-color:transparent}.action .title{border-bottom:1px solid #ededed;margin:0 -12px -1px -12px;padding:12px}.action.get{border-color:#3498db}.action.get h4{color:white;background:#3498db;border-bottom-color:#3498db}.action.post{border-color:#18bc9c}.action.post h4{color:white;background:#18bc9c;border-bottom-color:#18bc9c}.action.put{border-color:#f39c12}.action.put h4{color:white;background:#f39c12;border-bottom-color:#f39c12}.action.delete{border-color:#e74c3c}.action.delete h4{color:white;background:#e74c3c;border-bottom-color:#e74c3c}</style></head><body class="preload"><a href="#top" class="text-muted back-to-top"><i class="fa fa-toggle-up"></i>&nbsp;Back to top</a><div class="container"><div class="row"><nav><div class="resource-group"><div class="heading"><a href="#authentication">Authentication</a></div><ul><li><a href="#authentication-access-tokens-post">Access Tokens<span class="badge post"><i class="fa fa-plus"></i></span></a></li></ul></div><div class="resource-group"><div class="heading"><a href="#users">Users</a></div><ul><li><a href="#users-user">User</a><ul><li><a href="#users-user-post">Register a New User<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#users-user-get">View User Info<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#users-user-put">Change User Info<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#users-user-delete">Delete User<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#patients">Patients</a></div><ul><li><a href="#patients-user's-patients">User's Patients</a><ul><li><a href="#patients-user's-patients-post">Create new Patient<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#patients-user's-patients-get">List Patients<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#patients-patient">Patient</a><ul><li><a href="#patients-patient-get">View Patient Info<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#patients-patient-put">Update Patient Info<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#patients-patient-delete">Delete Patient<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li><li><a href="#patients-patient's-shared-users">Patient's Shared Users</a><ul><li><a href="#patients-patient's-shared-users-post">Share with a User<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#patients-patient's-shared-users-get">List all Shared Users<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#patients-shared-user">Shared User</a><ul><li><a href="#patients-shared-user-put">Update Access Level<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#patients-shared-user-delete">Stop Sharing with User<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#habits">Habits</a></div><ul><li><a href="#habits-patient-habits">Patient Habits</a><ul><li><a href="#habits-patient-habits-get">Get Patient Habits<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#habits-patient-habits-put">Set Patient Habits<span class="badge put"><i class="fa fa-pencil"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#journal-entries">Journal Entries</a></div><ul><li><a href="#journal-entries-journal-entries">Journal Entries</a><ul><li><a href="#journal-entries-journal-entries-post">Create an Entry<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#journal-entries-journal-entries-get">Retrieve all Entries<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#journal-entries-journal-entry">Journal Entry</a><ul><li><a href="#journal-entries-journal-entry-get">Retrieve One Entry<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#journal-entries-journal-entry-put">Change an Entry<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#journal-entries-journal-entry-delete">Delete an Entry<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#doctors">Doctors</a></div><ul><li><a href="#doctors-doctors-collection">Doctors Collection</a><ul><li><a href="#doctors-doctors-collection-post">Create a Doctor<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#doctors-doctors-collection-get">Retrieve all Doctors<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#doctors-doctor">Doctor</a><ul><li><a href="#doctors-doctor-get">Retrieve a Doctor<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#doctors-doctor-put">Change a Doctor's Info<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#doctors-doctor-delete">Delete a Doctor<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#pharmacies">Pharmacies</a></div><ul><li><a href="#pharmacies-pharmacies-collection">Pharmacies Collection</a><ul><li><a href="#pharmacies-pharmacies-collection-post">Create a Pharmacy<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#pharmacies-pharmacies-collection-get">Retrieve all Pharmacies<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#pharmacies-pharmacy">Pharmacy</a><ul><li><a href="#pharmacies-pharmacy-get">Retrieve a Pharmacy<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#pharmacies-pharmacy-put">Change a Pharmacy's Info<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#pharmacies-pharmacy-delete">Delete a Pharmacy<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#medications">Medications</a></div><ul><li><a href="#medications-medications-collection">Medications Collection</a><ul><li><a href="#medications-medications-collection-post">Create a new Medication<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#medications-medications-collection-get">Retrieve all Medications<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#medications-medication">Medication</a><ul><li><a href="#medications-medication-get">Retrieve a Medication<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#medications-medication-put">Change a Med's Info<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#medications-medication-delete">Delete a Medication<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#dose-events">Dose Events</a></div><ul><li><a href="#dose-events-dose-events-collection">Dose Events Collection</a><ul><li><a href="#dose-events-dose-events-collection-post">Create an Event<span class="badge post"><i class="fa fa-plus"></i></span></a></li><li><a href="#dose-events-dose-events-collection-get">Retrieve all Adherences<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></li><li><a href="#dose-events-adherence-event">Adherence Event</a><ul><li><a href="#dose-events-adherence-event-get">Retrieve One Adherence<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li><li><a href="#dose-events-adherence-event-put">Change an Event<span class="badge put"><i class="fa fa-pencil"></i></span></a></li><li><a href="#dose-events-adherence-event-delete">Delete an Event<span class="badge delete"><i class="fa fa-times"></i></span></a></li></ul></li></ul></div><div class="resource-group"><div class="heading"><a href="#schedule">Schedule</a></div><ul><li><a href="#schedule-schedule-get">Schedule<span class="badge get"><i class="fa fa-arrow-down"></i></span></a></li></ul></div><p style="text-align: center; word-wrap: break-word;"><a href="http://orange.amida-tech.com">http://orange.amida-tech.com</a></p></nav><div class="content"><header><h1 id="top">Orange API</h1></header><p>Orange is a medication adherence app. This is a quasi-REST API for the Orange
backend, primarily allowing sharing between patients and caregivers.</p>
<p>All API endpoints must be prefixed with a version number: for example,
<code>/v1/auth/token</code> not just <code>/auth/token</code>. Currently <code>v1</code> is the only API version.</p>
<p>All data should be sent JSON-encoded, and all responses are returned in JSON.</p>
<p>Throughout this document, we make the distinction between a user and a patient.
A user is an email/password pair, used to sign into the app, authenticate with the API,
and so on. A patient is someone we hold medication/adherence/etc data for. There is
a many-to-many association between users and patients: one user may own many patients
(for example, a mother collecting data both for herself and her son), and one patient
can be owned by many users (the concept of caregivers: the care of the son – the patient
– can be managed by both the mother and the father – the users).</p>
<p>This is a private API, and if you have permission to use it you’ll already have a <em>client
secret</em> in the form of a hexstring. This should be sent in the <code>X-Client-Secret</code> header,
for example</p>
<pre><code class="language-http"><span class="hljs-attribute">X-Client-Secret</span>: <span class="hljs-string">CLIENT_SECRET</span>
</code></pre>
<h3 id="header-response-status-codes">Response Status Codes<a class="permalink" href="#header-response-status-codes"><i class="fa fa-link"></i></a></h3>
<h4 id="header-success">Success<a class="permalink" href="#header-success"><i class="fa fa-link"></i></a></h4>
<p>All successful requests return responses with the following error codes:</p>
<ul>
<li>
<p><code>GET</code>, <code>PUT</code> and <code>DELETE</code> return <code>200</code> on success</p>
</li>
<li>
<p><code>POST</code> returns <code>201</code> on success</p>
</li>
</ul>
<h4 id="header-error">Error<a class="permalink" href="#header-error"><i class="fa fa-link"></i></a></h4>
<p>Error responses have <a href="http://www.restapitutorial.com/httpstatuscodes.html">standard HTTP error codes</a>,
along with an array of machine-readable error slugs in the <code>errors</code> key of the JSON response.</p>
<p>For example, when attempting to access user details without authentication</p>
<pre><code class="language-http"><span class="hljs-attribute">Status</span>: <span class="hljs-string">401 Access denied</span>
</code></pre>
<pre><code class="language-javascript">{
    success: <span class="hljs-literal">false</span>,
    errors: [<span class="hljs-string">'wrong_email_password'</span>]
}
</code></pre>
<p>If an unknown error occurs, the response code will be <code>500</code> and <code>errors</code> will
contain the <code>unknown_error</code> key.</p>
<section id="authentication" class="resource-group"><h2>Authentication<a href="#authentication" class="permalink"><i class="fa fa-link"></i></a></h2><p>Orange API uses access token authentication, like many REST services and similar
to (and in fact a semi-compatible subset of) OAuth2. First you use stored
user credentials (see <code>POST /auth/token</code> below) to generate an access token,
and then pass this access token into the <code>Authorization</code> header of all other
requests. All requests apart from user registration and token generation
need this authentication.</p>
<p>Precisely, the access token should be sent in the <code>Authorization</code> header in the
form</p>
<pre><code class="language-http"><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span>
</code></pre>
<p>and should be sent in plaintext, <em>not</em> base64 encoded.</p>
<div id="authentication-access-tokens" class="resource"><h3>Access Tokens<a href="#authentication-access-tokens" class="permalink"><i class="fa fa-link"></i></a></h3><div id="authentication-access-tokens-post" class="action post"><h4><div class="name">Retrieve an Access Token</div><a href="#authentication-access-tokens-post" class="method post">POST</a><code class="uri">/auth/token</code></h4><p>Use an email/password of an existing user to generate an access token. <strong>The
access token does not expire until the user changes password.</strong></p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>email</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>the email address of the user</p>
</dd><dt>password</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>the corresponding password</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"foo@bar.com"</span>,
    password: <span class="hljs-string">"foobar"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>email_required</code> (400) - no email address specified</p>
</li>
<li>
<p><code>password_required</code> (400) - no password specified</p>
</li>
<li>
<p><code>wrong_email_password</code> (401) - wrong email address/password combination</p>
</li>
<li>
<p><code>login_attempts_exceeded</code> (403) - there have been too many incorrect email</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    access_token: <span class="hljs-string">"abcdefgh123456789"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="users" class="resource-group"><h2>Users<a href="#users" class="permalink"><i class="fa fa-link"></i></a></h2><div id="users-user" class="resource"><h3>User<a href="#users-user" class="permalink"><i class="fa fa-link"></i></a></h3><div id="users-user-post" class="action post"><h4><div class="name">Register a New User</div><a href="#users-user-post" class="method post">POST</a><code class="uri">/user</code></h4><p>Register a new user.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>email</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>The email address of the new user. Validated to make sure it’s a valid
email address.</p>
</dd><dt>password</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>the password of the new user</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>the full name of the new user</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"foo@bar.com"</span>,
    password: <span class="hljs-string">"foobar"</span>,
    name: <span class="hljs-string">"Foo Bar"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>email_required</code> (<code>400</code>) - no email address specified</p>
</li>
<li>
<p><code>password_required</code> (<code>400</code>) - no password specified</p>
</li>
<li>
<p><code>invalid_email</code> (<code>400</code>) - the email address specified is not a valid one</p>
</li>
<li>
<p><code>user_already_exists</code> (<code>400</code>) - there is already a user with that email
address</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"foo@bar.com"</span>,
    name: <span class="hljs-string">"Foo Bar"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="users-user-get" class="action get"><h4><div class="name">View User Info</div><a href="#users-user-get" class="method get">GET</a><code class="uri">/user</code></h4><p>Get basic metadata about the current user.</p>
<div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in <code>Authorization</code>
header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"foo@bar.com"</span>,
    name: <span class="hljs-string">"Foo Bar"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="users-user-put" class="action put"><h4><div class="name">Change User Info</div><a href="#users-user-put" class="method put">PUT</a><code class="uri">/user</code></h4><p>Change basic metadata about the current user, including their password.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>new full name</p>
</dd><dt>password</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>New password. <strong>Note that if the password is changed, all access tokens are revoked</strong>.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Foo Baz"</span>,
    password: <span class="hljs-string">"foobaz"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in <code>Authorization</code>
header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"foo@bar.com"</span>,
    name: <span class="hljs-string">"Foo Baz"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="users-user-delete" class="action delete"><h4><div class="name">Delete User</div><a href="#users-user-delete" class="method delete">DELETE</a><code class="uri">/user</code></h4><p>Permanently remove the user, including all metadata stored on them (e.g., their password).
If the user has write access to patients that no other users have access to, then that
patient and all their data (doctors/pharmacies/medications/etc) will also be deleted.</p>
<div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in <code>Authorization</code>
header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"foo@bar.com"</span>,
    name: <span class="hljs-string">"Foo Bar"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="patients" class="resource-group"><h2>Patients<a href="#patients" class="permalink"><i class="fa fa-link"></i></a></h2><p>Remember, patients are the resources for which we actually store medication/etc
data, rather than users (and we have a many to many association between patients
and users).</p>
<p>There are two types of access a user can have to a patient: read-write (write) and read-only.
Read-write gives a user full access to everything, even allowing them to delete the
patient and change who the patient is shared with.</p>
<div id="patients-user's-patients" class="resource"><h3>User's Patients<a href="#patients-user's-patients" class="permalink"><i class="fa fa-link"></i></a></h3><div id="patients-user's-patients-post" class="action post"><h4><div class="name">Create new Patient</div><a href="#patients-user's-patients-post" class="method post">POST</a><code class="uri">/patients</code></h4><p>Create a new patient, initially shared with the current user with write permissions,
and no-one else. For example, this should be called upon initial setup of the app to
create a patient for the end user, and can later be called to create a new patient representing
the child of the patient.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>name</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>the full human name of the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Dependent Patient"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>name_required</code> (400) - no name specified</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Dependent Patient"</span>,
    access: <span class="hljs-string">"write"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="patients-user's-patients-get" class="action get"><h4><div class="name">List Patients</div><a href="#patients-user's-patients-get" class="method get">GET</a><code class="uri">/patients</code></h4><p>View a list of all patients the current user has access to: both read
(<code>access=&quot;read&quot;</code>) and write (<code>access=&quot;write&quot;</code>).</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
</dd><dt>offset</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code> or <code>name</code>, and defaults
to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Filter results by name of patient. Performs fuzzy matching.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    patients: [
        {
            id: <span class="hljs-number">1</span>,
            name: <span class="hljs-string">"Dependent Patient"</span>,
            access: <span class="hljs-string">"write"</span>
        },
        ...
    ],
    count: <span class="hljs-number">2</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="patients-patient" class="resource"><h3>Patient<a href="#patients-patient" class="permalink"><i class="fa fa-link"></i></a></h3><div id="patients-patient-get" class="action get"><h4><div class="name">View Patient Info</div><a href="#patients-patient-get" class="method get">GET</a><code class="uri">/patients/{patientid}</code></h4><p>View the name of a specific patient as well as the current user’s access (<code>read</code> or
<code>write</code>) to them. To view and modify other user’s access to this patient, see the
<code>/patients/{id}/shared</code> endpoint.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Dependent Patient"</span>,
    access: <span class="hljs-string">"write"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="patients-patient-put" class="action put"><h4><div class="name">Update Patient Info</div><a href="#patients-patient-put" class="method put">PUT</a><code class="uri">/patients/{patientid}</code></h4><p>Update the name of a specific patient whom the user has <code>write</code> access to, as well
as toggle the current user’s access from <code>write</code> to <code>read</code> or <code>none</code>. <strong>This switch is
permanent</strong> so should not be undertaken lightly: it means the user will never be able to
modify (for <code>read</code>) or even read (for <code>none</code>) any details (or medications or etc) of this
patient again, unless another user with <code>write</code> access reshares the patient with them.</p>
<p>If the user’s access is changed to <code>none</code> and the patient is not shared with any other
users, then the patient and all its data <em>will be deleted</em>.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>new full human name of the patient</p>
</dd><dt>access</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>If and only if the user’s current access to the patient is <code>write</code> (which
is needed to get something other than a 403 <code>unauthorized</code> response from this
endpoint anyway), then <code>read</code> can be passed here to lower their access down to
read only, or <code>none</code> to remove their access to the patient’s data at all.
<strong>This is permanent, and should be used with extreme caution</strong>.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"John Smith"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_access</code> (400) - the access string is not <code>none</code> or <code>read</code></p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"John Smith"</span>,
    access: <span class="hljs-string">"write"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="patients-patient-delete" class="action delete"><h4><div class="name">Delete Patient</div><a href="#patients-patient-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}</code></h4><p>Remove a patient for whom the user has write access to. <strong>This permanently removes
the patient, all of their associated habits, doctors, pharmacies, medications and dose events
<em>for all users the patient is shared with</em></strong> and as such should be used with extreme caution.</p>
<p>To completely remove a patient from the user’s sphere of influence, note that <code>PUT</code> should be
called with <code>access=&quot;none&quot;</code> rather than this method.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"John Smith"</span>,
    access: <span class="hljs-string">"write"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="patients-patient's-shared-users" class="resource"><h3>Patient's Shared Users<a href="#patients-patient's-shared-users" class="permalink"><i class="fa fa-link"></i></a></h3><p>This endpoint represents all of the users a specific patient is shared with: including
both <code>read</code> and <code>write</code> access. The IDs in this section represent patient-user relationships,
not users themselves, so if patient <code>1</code> is shared with user <code>7</code> then the shared ID may be <code>16</code>,
rather than 7.</p>
<div id="patients-patient's-shared-users-post" class="action post"><h4><div class="name">Share with a User</div><a href="#patients-patient's-shared-users-post" class="method post">POST</a><code class="uri">/patients/{patientid}/shared</code></h4><p>Share a patient’s data (a patient for whom the user has write access) with a new user specified by
email address. This user <em>can</em> be an existing app user, but is not required to be: if they are then
they’re automatically granted access to the patient’s data, and if they’re not they’re sent an email
invitation to install the app, and once they do they’ll receive automatic access to the patient’s data.
The <code>is_user</code> field in the response distinguishes between the two cases: it’s true in the case
of an existing user, and false in the case of a new user who’s been invited.</p>
<p>An example use case here would be a mother (the user) wanting to share her child’s (the
patient’s) data with the father (another user).</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd><dt>email</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>the email address of the user to share data with</p>
</dd><dt>access</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p><code>read</code> or <code>write</code> to signify the level of access the user should have to the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    email: <span class="hljs-string">"care@giver.com"</span>,
    access: <span class="hljs-string">"read"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_email</code> (400) - the email address specified is not a valid one</p>
</li>
<li>
<p><code>invalid_access</code> (400) - the access string specified is not a valid one (must be either <code>read</code> or <code>write</code>)</p>
</li>
</ul>
<p>Note that this <code>id</code> is for the user-patient association, <em>not</em> the user ID.</p>
<p><code>is_user</code> (<code>boolean</code>) signifies whether the user is already an existing
user of the app, or whether they’ve been sent an email inviting them to sign up.</p>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    email: <span class="hljs-string">"care@giver.com"</span>,
    access: <span class="hljs-string">"read"</span>,
    is_user: <span class="hljs-literal">true</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="patients-patient's-shared-users-get" class="action get"><h4><div class="name">List all Shared Users</div><a href="#patients-patient's-shared-users-get" class="method get">GET</a><code class="uri">/patients/{patientid}/shared</code></h4><p>For a patient whom the user has <code>read</code> access, get a list of all users (including the current one)
who have (either <code>read</code> or <code>write</code>) access to the patient.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
</dd><dt>offset</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code> or <code>email</code>, and defaults
to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>email</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Filter results by email address of user. Performs fuzzy matching.</p>
</dd><dt>is_user</dt><dd><code>boolean</code>&nbsp;<span>(optional)</span>&nbsp;<p>filter results by selecting only user that are existing users (as opposed to those
who’ve been invited but still haven’t signed up)</p>
</dd><dt>access</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>filter results by selecting only users with the specified level of access (either
<code>read</code> or <code>write</code>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
<li>
<p><code>invalid_is_user</code> (400) - the specified is_user value to filter by is invalid</p>
</li>
<li>
<p><code>invalid_access</code> (400) - the specified access value to filter by is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    shared: [
        {
            id: <span class="hljs-number">1</span>,
            email: <span class="hljs-string">"care@giver.com"</span>,
            access: <span class="hljs-string">"write"</span>,
            is_user: <span class="hljs-literal">true</span>
        },
        ...
    ],
    count: <span class="hljs-number">2</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="patients-shared-user" class="resource"><h3>Shared User<a href="#patients-shared-user" class="permalink"><i class="fa fa-link"></i></a></h3><div id="patients-shared-user-put" class="action put"><h4><div class="name">Update Access Level</div><a href="#patients-shared-user-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/shared/{sharedid}</code></h4><p>Update the access another user has to a patient (the current user of course is required
to have <code>write</code> access to this patient). To modify the current user’s access, see the
convenience method <code>PUT /patients/:patientid</code>.</p>
<p>If the user’s access is changed to <code>none</code> and the patient is not shared with any other
users, then the patient and all its data <em>will be deleted</em> (this can of course only happen
with this endpoint if the user who’s share is being modified is the current user).</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd><dt>sharedid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient-user association (<strong>not</strong> the user ID) (<em>url</em>)</p>
</dd><dt>access</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p><code>read</code> or <code>write</code> to signify the new level of access the specified user should have to the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    access: <span class="hljs-string">"write"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_shared_id</code> (404)</p>
<p>A patient-user sharing relationship with the specified ID was not found (remember, this is <em>not</em>
the same as the user ID)</p>
</li>
<li>
<p><code>invalid_access</code> (400) - the specified access value to change to is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    email: <span class="hljs-string">"care@giver.com"</span>,
    access: <span class="hljs-string">"write"</span>,
    is_user: <span class="hljs-literal">true</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="patients-shared-user-delete" class="action delete"><h4><div class="name">Stop Sharing with User</div><a href="#patients-shared-user-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}/shared/{sharedid}</code></h4><p>Stop sharing the specified patient’s data with a specified user. The current user will
of course need write access to the patient. To stop sharing a patient with the <em>current</em>
user, see the convenience method <code>PUT /patients/:patientid</code>.</p>
<p>If this is the last user whom the patient is shared with, then the patient and <em>all their data</em>
will be deleted, so take care.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<strong>not</strong> user-specific) (<em>url</em>)</p>
</dd><dt>sharedid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient-user association (<strong>not</strong> the user ID) (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_shared_id</code> (404)</p>
<p>A patient-user sharing relationship with the specified ID was not found (remember, this is <em>not</em>
the same as the user ID)</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    email: <span class="hljs-string">"care@giver.com"</span>,
    access: <span class="hljs-string">"write"</span>,
    is_user: <span class="hljs-literal">true</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="habits" class="resource-group"><h2>Habits<a href="#habits" class="permalink"><i class="fa fa-link"></i></a></h2><div id="habits-patient-habits" class="resource"><h3>Patient Habits<a href="#habits-patient-habits" class="permalink"><i class="fa fa-link"></i></a></h3><p>Habits are real-life <em>preferences</em> of the patient: what time they usually wake up
in the morning, what time they usually eat lunch, and so on. Exactly one set of
preferences is stored for each patient. The current user will need read access
to the patient.</p>
<p>Most  habits are of the <code>time</code> datatype. This means they must be in the specific
<code>HH:MM</code> format of ISO 8601; for example, <code>03:59</code> and <code>23:20</code>. These times are
in the <em>local timezone</em> of the patient, and will not change if the timezone is updated
(for example, if <code>breakfast</code> is set to <code>10:00</code> while the timezone is <code>London/Europe</code>,
<code>breakfast</code> will remain as <code>10:00</code> if the timezone is updated to <code>America/New_York</code>.
This signifies that if medication is to be taken with food at breakfast every morning,
the patient should continue doing that even if the timezone shifts).</p>
<p>Habits (all may be blank, and initially are after registration):</p>
<ul>
<li>
<p><code>wake</code> (<em>time</em>) - what time the patient normally wakes up in the morning</p>
</li>
<li>
<p><code>sleep</code> (<em>time</em>) - what time the patient normally goes to sleep at night</p>
</li>
<li>
<p><code>breakfast</code> (<em>time</em>) - what time the patient normally eats breakfast</p>
</li>
<li>
<p><code>lunch</code> (<em>time</em>) - what time the patient normally eats lunch</p>
</li>
<li>
<p><code>dinner</code> (<em>time</em>) - what time the patient normally eats dinner</p>
</li>
<li>
<p><code>tz</code> (<em>timezone</em>) - the current timezone of the patient (retrieved automatically
from the mobile OS without any user participation required). Should be a valid TZ
database timezone (e.g., <code>/London/Europe</code>). Defaults to <code>Etc/UTC</code> (UTC time).</p>
</li>
</ul>
<div id="habits-patient-habits-get" class="action get"><h4><div class="name">Get Patient Habits</div><a href="#habits-patient-habits-get" class="method get">GET</a><code class="uri">/patients/{patientid}/habits</code></h4><p>View the patient’s current habits.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in <code>Authorization</code>
header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    wake: <span class="hljs-string">"07:00"</span>,
    sleep: <span class="hljs-string">"23:00"</span>,
    breakfast: <span class="hljs-string">"08:00"</span>,
    lunch: <span class="hljs-string">"12:00"</span>,
    dinner: <span class="hljs-string">"19:00"</span>,
    tz: <span class="hljs-string">"Etc/UTC"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="habits-patient-habits-put" class="action put"><h4><div class="name">Set Patient Habits</div><a href="#habits-patient-habits-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/habits</code></h4><p>Set the patient’s habits. The current user will need write access to the patient.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>wake</dt><dd><code>time</code>&nbsp;<span>(optional)</span>&nbsp;<p>what time the patient normally wakes up in the morning</p>
</dd><dt>sleep</dt><dd><code>time</code>&nbsp;<span>(optional)</span>&nbsp;<p>what time the patient normally goes to sleep at night</p>
</dd><dt>breakfast</dt><dd><code>time</code>&nbsp;<span>(optional)</span>&nbsp;<p>what time the patient normally eats breakfast</p>
</dd><dt>lunch</dt><dd><code>time</code>&nbsp;<span>(optional)</span>&nbsp;<p>what time the patient normally eats lunch</p>
</dd><dt>dinner</dt><dd><code>time</code>&nbsp;<span>(optional)</span>&nbsp;<p>what time the patient normally eats dinner</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    wake: <span class="hljs-string">"06:00"</span>,
    sleep: <span class="hljs-string">"22:00"</span>,
    breakfast: <span class="hljs-string">"07:00"</span>,
    lunch: <span class="hljs-string">"11:00"</span>,
    tz: <span class="hljs-string">"London/Europe"</span>,
    dinner: <span class="hljs-string">"18:00"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in <code>Authorization</code>
header</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_wake</code> (400) - the wake time passed is not formatted as <code>HH:MM</code></p>
</li>
<li>
<p><code>invalid_sleep</code> (400) - the wake time passed is not formatted as <code>HH:MM</code></p>
</li>
<li>
<p><code>invalid_breakfast</code> (400) - the wake time passed is not formatted as <code>HH:MM</code></p>
</li>
<li>
<p><code>invalid_lunch</code> (400) - the wake time passed is not formatted as <code>HH:MM</code></p>
</li>
<li>
<p><code>invalid_dinner</code> (400) - the wake time passed is not formatted as <code>HH:MM</code></p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    wake: <span class="hljs-string">"06:00"</span>,
    sleep: <span class="hljs-string">"22:00"</span>,
    breakfast: <span class="hljs-string">"07:00"</span>,
    lunch: <span class="hljs-string">"11:00"</span>,
    dinner: <span class="hljs-string">"18:00"</span>,
    tz: <span class="hljs-string">"London/Europe"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="journal-entries" class="resource-group"><h2>Journal Entries<a href="#journal-entries" class="permalink"><i class="fa fa-link"></i></a></h2><p>Basic free-text journal for the patient to enter notes about their day and such in.
While medications can be tagged in journal entries, entries that correspond
exactly to dose events should probably just be stored in the <code>notes</code> field of a
dose event.</p>
<p><em>Hashtags</em> are parsed from each journal entry and returned in a <code>hashtags</code> array of
<code>string</code>s.</p>
<div id="journal-entries-journal-entries" class="resource"><h3>Journal Entries<a href="#journal-entries-journal-entries" class="permalink"><i class="fa fa-link"></i></a></h3><div id="journal-entries-journal-entries-post" class="action post"><h4><div class="name">Create an Entry</div><a href="#journal-entries-journal-entries-post" class="method post">POST</a><code class="uri">/patients/{patientid}/journal</code></h4><p>Store details of a new journal entry (the current user will need write access to
the patient).</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>date</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>2015-05-31T19:27:09+00:00</span></span><p>ISO 8601 combined date-time in UTC representing the date and time to be associated
with the journal entry. Should probably allow user entry of this, but default to the time
the user wrote the entry.</p>
</dd><dt>text</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>free-form text field.</p>
</dd><dt>medication_ids</dt><dd><code>integers</code>&nbsp;<span>(optional)</span>&nbsp;<p>optional list of medication IDs to ‘tag’ the journal entry with</p>
</dd><dt>mood</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>mood of the patient as they wrote the journal entry</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    text: <span class="hljs-string">"Had an amazing day today, perhaps thanks in part to taking one more #Adderall than I was meant to this morning!! I #love you #Orange guys soooo much it's insane, but I should probably #go now to avoid #typing #too #much #hashtags #omgilovehashtags #Adderall"</span>,
    medication_ids: [<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],
    mood: <span class="hljs-string">"Happy"</span>,
    hashtags: [<span class="hljs-string">"Adderall"</span>, <span class="hljs-string">"love"</span>, <span class="hljs-string">"Orange"</span>, <span class="hljs-string">"go"</span>, <span class="hljs-string">"typing"</span>, <span class="hljs-string">"too"</span>, <span class="hljs-string">"much"</span>, <span class="hljs-string">"hashtags"</span>, <span class="hljs-string">"omgilovehashtags"</span>],
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>text_required</code> (400) - text for the journal entry must be provided</p>
</li>
<li>
<p><code>date_required</code> (400) - a datetime for the entry must be provided</p>
</li>
<li>
<p><code>invalid_date</code> (400) - the date given is not in valid ISO 8601 format</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - the medications list contains an invalid entry for which a corresponding medication cannot be found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    text: <span class="hljs-string">"Had an amazing day today, perhaps thanks in part to taking one more #Adderall than I was meant to this morning!! I #love you #Orange guys soooo much it's insane, but I should probably #go now to avoid #typing #too #much #hashtags #omgilovehashtags #Adderall"</span>,
    medication_ids: [<span class="hljs-number">1</span>,<span class="hljs-number">4</span>],
    mood: <span class="hljs-string">"Happy"</span>,
    hashtags: [<span class="hljs-string">"Adderall"</span>, <span class="hljs-string">"love"</span>, <span class="hljs-string">"Orange"</span>, <span class="hljs-string">"go"</span>, <span class="hljs-string">"typing"</span>, <span class="hljs-string">"too"</span>, <span class="hljs-string">"much"</span>, <span class="hljs-string">"hashtags"</span>, <span class="hljs-string">"omgilovehashtags"</span>],
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="journal-entries-journal-entries-get" class="action get"><h4><div class="name">Retrieve all Entries</div><a href="#journal-entries-journal-entries-get" class="method get">GET</a><code class="uri">/patients/{patientid}/journal</code></h4><p>Get a list of all journal events for the patient. Includes full information on each,
but each medication ID in <code>medication_ids</code> is not expanded out into a full medication
object. The current user will need read access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
<ul>
<li>offset (integer, optional)</li>
</ul>
<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code> or <code>date</code>, and defaults
to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>start_date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restrict results to entries that took place after this date. Must be
a valid ISO 8601 datetime. Defaults to 0.</p>
</dd><dt>end_date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restrict results to entries that took place before this date. Must be
a valid ISO 8601 datetime. Defaults to infinity.</p>
</dd><dt>medication_ids</dt><dd><code>array of integers</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restrict results to journal entries that include (at least all of) these
medications.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
<li>
<p><code>invalid_start_date</code> (400) - the specified start date is an invalid ISO 8601 datetime</p>
</li>
<li>
<p><code>invalid_end_date</code> (400) - the specified end date is an invalid ISO 8601 datetime</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - the medications list contains an invalid entry for which a corresponding medication cannot be found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    entries: [
        {
            id: <span class="hljs-number">1</span>,
            date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
            text: <span class="hljs-string">"Had an amazing day today, perhaps thanks in part to taking one more Adderall than I was meant to this morning!! I #love you #Orange guys soooo much it's insane, but I should probably #go now to avoid #typing #too #much #hashtags #omgilovehashtags #Adderall"</span>,
            mood: <span class="hljs-string">"Happy"</span>,
            hashtags: [<span class="hljs-string">"Adderall"</span>, <span class="hljs-string">"love"</span>, <span class="hljs-string">"Orange"</span>, <span class="hljs-string">"go"</span>, <span class="hljs-string">"typing"</span>, <span class="hljs-string">"too"</span>, <span class="hljs-string">"much"</span>, <span class="hljs-string">"hashtags"</span>, <span class="hljs-string">"omgilovehashtags"</span>],
            medication_ids: [<span class="hljs-number">1</span>,<span class="hljs-number">4</span>]
        },
        ...
    ],
    count: <span class="hljs-number">46</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="journal-entries-journal-entry" class="resource"><h3>Journal Entry<a href="#journal-entries-journal-entry" class="permalink"><i class="fa fa-link"></i></a></h3><div id="journal-entries-journal-entry-get" class="action get"><h4><div class="name">Retrieve One Entry</div><a href="#journal-entries-journal-entry-get" class="method get">GET</a><code class="uri">/patients/{patientid}/journal/{journalid}</code></h4><p>View information on an individual journal entry. <code>medication_ids</code> is helpfully
expanded out into <code>medications</code>. The current user will need read access to the
patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>journalid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the journal entry</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_journal_id</code> (404) - an entry with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    text: <span class="hljs-string">"Had an amazing day today, perhaps thanks in part to taking one more Adderall than I was meant to this morning!! I #love you #Orange guys soooo much it's insane, but I should probably #go now to avoid #typing #too #much #hashtags #omgilovehashtags #Adderall"</span>,
    mood: <span class="hljs-string">"Happy"</span>,
    hashtags: [<span class="hljs-string">"Adderall"</span>, <span class="hljs-string">"love"</span>, <span class="hljs-string">"Orange"</span>, <span class="hljs-string">"go"</span>, <span class="hljs-string">"typing"</span>, <span class="hljs-string">"too"</span>, <span class="hljs-string">"much"</span>, <span class="hljs-string">"hashtags"</span>, <span class="hljs-string">"omgilovehashtags"</span>],
    medications: [
        {
            id: <span class="hljs-number">1</span>,
            name: <span class="hljs-string">"Loratadine"</span>,
            rx_norm: <span class="hljs-string">"324026"</span>,
            pharmacy_id: <span class="hljs-number">1</span>
        },
        {
            id: <span class="hljs-number">4</span>,
            name: <span class="hljs-string">"Adderall"</span>,
            rx_norm: <span class="hljs-string">"123456789"</span>,
            pharmacy_id: <span class="hljs-number">7</span>
        }
    ],
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="journal-entries-journal-entry-put" class="action put"><h4><div class="name">Change an Entry</div><a href="#journal-entries-journal-entry-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/journal/{journalid}</code></h4><p>Change information (medications, date and/or text) of a single journal entry. The current
user will need write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>journalid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the entry (<em>url</em>)</p>
</dd><dt>date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>new ISO 8601 datetime to change the entry date to</p>
</dd><dt>medication_ids</dt><dd><code>array of integers</code>&nbsp;<span>(optional)</span>&nbsp;<p>Array of medication IDs. This will overwrite the previous list, so make sure to
list <em>all</em> medication IDs for the entry, not just new ones.</p>
</dd><dt>text</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>String to change the actual text of the entry to. Cannot be blank if present.</p>
</dd><dt>mood</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>mood of the patient as they wrote the journal entry</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    text: <span class="hljs-string">"Had an absolute amazeballs day today, omg I love Adderall so much it's the greatest thing ever."</span>,
    mood: <span class="hljs-string">"amazeballs"</span>,
    medication_ids: [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>]
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_journal_id</code> (404) - a journal entry with that ID was not found</p>
</li>
<li>
<p><code>invalid_date</code> (400) - the date field specified is not in valid ISO 8601 format</p>
</li>
<li>
<p><code>text_required</code> (400) - if the text field is present, it cannot be blank</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - the medications list contains an invalid entry for which a corresponding medication cannot be found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    text: <span class="hljs-string">"Had an absolute amazeballs day today, omg I love Adderall so much it's the greatest thing ever."</span>,
    mood: <span class="hljs-string">"amazeballs"</span>,
    hashtags: [],
    medication_ids: [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>]
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="journal-entries-journal-entry-delete" class="action delete"><h4><div class="name">Delete an Entry</div><a href="#journal-entries-journal-entry-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}/journal/{journalid}</code></h4><p>Remove a single journal entry. The current user will need write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>journalid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the journal entry (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_journal_id</code> (404) - a journal entry with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    text: <span class="hljs-string">"Had an absolute amazeballs day today, omg I love Adderall so much it's the greatest thing ever."</span>,
    mood: <span class="hljs-string">"amazeballs"</span>,
    hashtags: [],
    medication_ids: [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>]
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="doctors" class="resource-group"><h2>Doctors<a href="#doctors" class="permalink"><i class="fa fa-link"></i></a></h2><p>Basic contact details for all of the doctors who’ve prescribed medication to
a specified patient.</p>
<div id="doctors-doctors-collection" class="resource"><h3>Doctors Collection<a href="#doctors-doctors-collection" class="permalink"><i class="fa fa-link"></i></a></h3><div id="doctors-doctors-collection-post" class="action post"><h4><div class="name">Create a Doctor</div><a href="#doctors-doctors-collection-post" class="method post">POST</a><code class="uri">/patients/{patientid}/doctors</code></h4><p>Store details of a new doctor for the specified patient (the current user will
need write access to the patient).</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>full name of the doctor</p>
</dd><dt>phone</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>contact phone number for the doctor</p>
</dd><dt>address</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Postal address of the doctor. Newlines can optionally be used to split
lines.</p>
</dd><dt>notes</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>freeform text notes about the doctor by the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Dr. X"</span>,
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
    notes: <span class="hljs-string">"Love this doc!"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>name_required</code> (400) - a name must be provided</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Dr. X"</span>,
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>
    notes: <span class="hljs-string">"Love this doc!"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="doctors-doctors-collection-get" class="action get"><h4><div class="name">Retrieve all Doctors</div><a href="#doctors-doctors-collection-get" class="method get">GET</a><code class="uri">/patients/{patientid}/doctors</code></h4><p>Get a list of all the patient’s doctors. Includes full information on each. The
current user will need read access to the patient.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
<ul>
<li>offset (integer, optional)</li>
</ul>
<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code> or <code>name</code>, and defaults
to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Filter results by name of doctor. Performs fuzzy matching.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    doctors: [
        {
            id: <span class="hljs-number">1</span>,
            name: <span class="hljs-string">"Dr. X"</span>,
            phone: <span class="hljs-string">"(617) 617-6177"</span>,
            address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
            notes: <span class="hljs-string">"Love this doc!"</span>
        },
        ...
    ],
    count: <span class="hljs-number">3</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="doctors-doctor" class="resource"><h3>Doctor<a href="#doctors-doctor" class="permalink"><i class="fa fa-link"></i></a></h3><div id="doctors-doctor-get" class="action get"><h4><div class="name">Retrieve a Doctor</div><a href="#doctors-doctor-get" class="method get">GET</a><code class="uri">/patients/{patientid}/doctors/{doctorid}</code></h4><p>View information on an individual doctor. The current user will need read access to the
patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>doctorid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the doctor</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_doctor_id</code> (404) - a doctor with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Dr. X"</span>,
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
    notes: <span class="hljs-string">"Love this doc!"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="doctors-doctor-put" class="action put"><h4><div class="name">Change a Doctor's Info</div><a href="#doctors-doctor-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/doctors/{doctorid}</code></h4><p>Change information (name, phone and/or address) of an individual doctor. The current user will need
write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>doctorid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the doctor (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Full name of the doctor. Must not be blank.</p>
</dd><dt>phone</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>contact phone number for the doctor</p>
</dd><dt>address</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>postal address, in the format specified above in <code>POST</code></p>
</dd><dt>notes</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>freeform text notes about the doctor by the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Dr. Y"</span>,
    phone: <span class="hljs-string">"(716) 716-7166"</span>,
    address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
    notes: <span class="hljs-string">"Love this doc the most!"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>name_required</code> (400) - a name must be provided</p>
</li>
<li>
<p><code>invalid_doctor_id</code> (404) - a doctor with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Dr. Y"</span>,
    phone: <span class="hljs-string">"(716) 716-7166"</span>,
    address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
    notes: <span class="hljs-string">"Love this doc the most!"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="doctors-doctor-delete" class="action delete"><h4><div class="name">Delete a Doctor</div><a href="#doctors-doctor-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}/doctors/{doctorid}</code></h4><p>Remove information on a single doctor. The current user will need write access to the patient’s
data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>doctorid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the doctor (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_doctor_id</code> (404) - a doctor with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Dr. X"</span>,
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
    notes: <span class="hljs-string">"Love this doc the most!"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="pharmacies" class="resource-group"><h2>Pharmacies<a href="#pharmacies" class="permalink"><i class="fa fa-link"></i></a></h2><p>Details for all pharmacies from whom the selected patient receives medication.</p>
<div id="pharmacies-pharmacies-collection" class="resource"><h3>Pharmacies Collection<a href="#pharmacies-pharmacies-collection" class="permalink"><i class="fa fa-link"></i></a></h3><div id="pharmacies-pharmacies-collection-post" class="action post"><h4><div class="name">Create a Pharmacy</div><a href="#pharmacies-pharmacies-collection-post" class="method post">POST</a><code class="uri">/patients/{patientid}/pharmacies</code></h4><p>Store details of a new pharmacy. The current user will need write access to the
patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>name of the pharmacy</p>
</dd><dt>address</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Postal address of the pharmacy. Newlines can optionally be used to split
lines.</p>
</dd><dt>phone</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>contact phone number for the pharmacy</p>
</dd><dt>hours</dt><dd><code>dictionary</code>&nbsp;<span>(optional)</span>&nbsp;<p>The hours the pharmacy is open. Keys are full lowercase names of the days of
the week (e.g., <code>monday</code>), and values are themselves dictionaries of the form
<code>{open: OPEN_TIME, close: CLOSE_TIME}</code>, where times are formatted in the <code>HH:MM</code>
format specified in ISO 8601. These hours should be in the local timezone of
the patient.</p>
</dd><dt>notes</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>freeform text notes about the pharmacy by the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Pharmacy X"</span>,
    address: <span class="hljs-string">"Pharmacy Street, DC, 20052"</span>
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    hours: {
        monday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        tuesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        wednesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        thursday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        friday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        saturday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        sunday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        }
    },
    notes: <span class="hljs-string">"Great pharmacy! Love the smell"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>name_required</code> (400) - a non-blank name must be provided</p>
</li>
<li>
<p><code>invalid_hours</code> (400) - the opening/closing hours dictionary is not in the
form specified above</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Pharmacy X"</span>,
    address: <span class="hljs-string">"Pharmacy Street, DC, 20052"</span>
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    hours: {
        monday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        tuesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        wednesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        thursday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        friday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        saturday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        sunday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        }
    },
    notes: <span class="hljs-string">"Great pharmacy! Love the smell"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="pharmacies-pharmacies-collection-get" class="action get"><h4><div class="name">Retrieve all Pharmacies</div><a href="#pharmacies-pharmacies-collection-get" class="method get">GET</a><code class="uri">/patients/{patientid}/pharmacies</code></h4><p>Get a list of all the patient’s pharmacies. Includes full information on each… The current
user will need read access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
<ul>
<li>offset (integer, optional)</li>
</ul>
<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code> or <code>name</code>, and defaults
to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Filter results by name of pharmacy. Performs fuzzy matching.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    pharmacies: [
        {
            id: <span class="hljs-number">1</span>,
            name: <span class="hljs-string">"Pharmacy X"</span>,
            ...
        },
        ...
    ],
    count: <span class="hljs-number">3</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="pharmacies-pharmacy" class="resource"><h3>Pharmacy<a href="#pharmacies-pharmacy" class="permalink"><i class="fa fa-link"></i></a></h3><div id="pharmacies-pharmacy-get" class="action get"><h4><div class="name">Retrieve a Pharmacy</div><a href="#pharmacies-pharmacy-get" class="method get">GET</a><code class="uri">/patients/{patientid}/pharmacies/{pharmacyid}</code></h4><p>View information on an individual pharmacy. The current user will need read access
to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>pharmacyid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the pharmacy</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_pharmacy_id</code> (404) - a pharmacy with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Pharmacy X"</span>,
    address: <span class="hljs-string">"Pharmacy Street, DC, 20052"</span>
    phone: <span class="hljs-string">"(617) 617-6177"</span>,
    hours: {
        monday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        tuesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        wednesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        thursday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        friday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        saturday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        sunday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        }
    },
    notes: <span class="hljs-string">"Great pharmacy! Love the smell"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="pharmacies-pharmacy-put" class="action put"><h4><div class="name">Change a Pharmacy's Info</div><a href="#pharmacies-pharmacy-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/pharmacies/{pharmacyid}</code></h4><p>Change information (name, phone, address and/or hours) of an individual pharmacy. The
current user will need write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient  (<em>url</em>)</p>
</dd><dt>pharmacyid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the pharmacy (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Name of the pharmacy. Must not be blank.</p>
</dd><dt>phone</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>contact phone number for the pharmacy</p>
</dd><dt>address</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>postal address, in the format specified in <code>POST</code></p>
</dd><dt>hours</dt><dd><code>dictionary</code>&nbsp;<span>(optional)</span>&nbsp;<p>Opening/closing hours, in the format specified in <code>POST</code>. The dictionary can
be partially empty.</p>
</dd><dt>notes</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>freeform text notes about the pharmacy by the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Pharmacy. Y"</span>,
    phone: <span class="hljs-string">"(716) 716-7166"</span>,
    address: <span class="hljs-string">"Pharmacy Street, DC, 20052"</span>,
    hours: {
        tuesday: {
            open: <span class="hljs-string">"10:00"</span>
        }
    },
    notes: <span class="hljs-string">"Doesn't smell like it used to"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
</ul>
<ul>
<li><code>invalid_hours</code> (400) - the opening/closing hours dictionary is not in the
form specified above in <code>POST</code></li>
</ul>
<ul>
<li>
<p><code>invalid_pharmacy_id</code> (404) - a pharmacy with that ID was not found</p>
</li>
<li>
<p><code>name_required</code> (400) - the name cannot be changed to a blank name</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Pharmacy Y"</span>,
    address: <span class="hljs-string">"Pharmacy Street, DC, 20052"</span>
    phone: <span class="hljs-string">"(716) 716-7166"</span>,
    hours: {
        monday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        tuesday: {
            open: <span class="hljs-string">"10:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        wednesday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        thursday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        friday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        saturday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        },
        sunday: {
            open: <span class="hljs-string">"09:00"</span>,
            close: <span class="hljs-string">"17:00"</span>
        }
    },
    notes: <span class="hljs-string">"Doesn't smell like it used to"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="pharmacies-pharmacy-delete" class="action delete"><h4><div class="name">Delete a Pharmacy</div><a href="#pharmacies-pharmacy-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}/pharmacies/{pharmacyid}</code></h4><p>Remove information on a single pharmacy. The current user will need write access to
the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient  (<em>url</em>)</p>
</dd><dt>pharmacyid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the pharmacy (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_pharmacy_id</code> (404) - a pharmacy with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Pharmacy X"</span>,
    ...,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="medications" class="resource-group"><h2>Medications<a href="#medications" class="permalink"><i class="fa fa-link"></i></a></h2><p>Data on regular medications a patient takes (either manually entered
or retrieved via OAuth2 + FHIR from e.g., the DRE).</p>
<h3 id="header-schedule">Schedule<a class="permalink" href="#header-schedule"><i class="fa fa-link"></i></a></h3>
<p>Various endpoints below take and output <code>schedule</code> data items, representing a regular
schedule the patient should take a certain medication on.  These are used to schedule
reminders, and so are vitally important for the core of the app. The data format
<code>schedule</code>s must be in is precisely defined below, and must be followed exactly.</p>
<p>There are a couple different discrete schedule types, each of which should be formatted
differently. The schedule type should be passed in a <code>type</code> key.</p>
<p>All schedule types can include a <code>stop_date</code> field, containing an ISO8601-formatted date
value (specifically ISO-2014, i.e., <code>YYYY-MM-DD</code>) on which the patient should stop taking
the medication (i.e., the last event at which they should take the medication should be the
last event generated on <code>stop_date</code>). This is useful with, for example, antibiotics, when they
must be rigorously taken until a certain date, and not at all after that date. <code>stop_date</code> corresponds
to a date in the patient’s local timezone.</p>
<h3 id="header-as-needed">As Needed<a class="permalink" href="#header-as-needed"><i class="fa fa-link"></i></a></h3>
<pre><code class="language-javascript">type: <span class="hljs-string">"as_needed"</span>
</code></pre>
<p>Used when the medication can be taken at the whim of the patient (useful for e.g., if
the patient regularly takes ibroprufen, but does not have to take it <em>every</em> 4 hours).</p>
<p>This can also include an optional <code>not_to_exceed</code> integer field containing the maximum
number of times a patient should take the medication in a given day.</p>
<p>We know illustrate the format with a couple of examples:</p>
<ul>
<li>Joe can take his ibroprufen whenever desired</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"as_needed"</span>
}
</code></pre>
<ul>
<li>Joe can take his ibroprufen whenever desired, but not more than 3 times a day</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"as_needed"</span>,
    not_to_exceed: <span class="hljs-number">3</span>
}
</code></pre>
<ul>
<li>Joe can take his codeine whenever desired, but not more than 3 times a day and he
must stop by the 1st January 2015.</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"as_needed"</span>,
    not_to_exceed: <span class="hljs-number">1</span>,
    stop_date: <span class="hljs-string">"2015-01-01"</span>
}
</code></pre>
<h3 id="header-regularly">Regularly<a class="permalink" href="#header-regularly"><i class="fa fa-link"></i></a></h3>
<pre><code class="language-javascript">type: <span class="hljs-string">"regularly"</span>
</code></pre>
<p>This is a pretty general type that can be used to encode all regular schemas. In all cases,
the <code>frequency</code> key <strong>must</strong> be set to an integer, corresponding to the patient needing to take the
medication every <code>frequency</code> days. For example, a weekly medication should have <code>frequency=7</code>, and a daily
medication should have <code>frequency=1</code>.</p>
<p>Other keys can be used to specify the times within the day at which the medication should
occur: combining these with <code>frequency=1</code> allows a schedule that requires a patient to, e.g., take
a particular medication 4 times every day (<code>frequency=1</code> and <code>number_of_times=4</code>).</p>
<p>There are 3 different ways the times within the day should be specified. <em>Exactly</em> one must
be present (<code>number_of_times=1</code> can be used for a standard daily/weekly/etc medication).</p>
<h4 id="header-specific-number-of-times-per-day">Specific Number of Times per Day<a class="permalink" href="#header-specific-number-of-times-per-day"><i class="fa fa-link"></i></a></h4>
<p>Set the <code>number_of_times</code> key to an integer representing the number of times the patient should
take it on each day they take it (so number of times every day for <code>frequency=1</code>, number of times every
week for <code>frequency=7</code>, etc). For example,</p>
<ul>
<li>Joe should take his codeine once every day, at any time</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"regularly"</span>,
    frequency: <span class="hljs-number">1</span>,
    number_of_times: <span class="hljs-number">1</span>
}
</code></pre>
<ul>
<li>Joe should take his anti-Parkinsons meds three times a week, all on the same day</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"regularly"</span>,
    frequency: <span class="hljs-number">7</span>,
    number_of_times: <span class="hljs-number">3</span>
}
</code></pre>
<h4 id="header-times-of-day">Times of Day<a class="permalink" href="#header-times-of-day"><i class="fa fa-link"></i></a></h4>
<p><code>times_of_day</code> should be an array of strings specifying the specific times of the day on which the
patient should take the medication. Times should be formatted in the <code>HH:MM</code> format of ISO 8601, for
example <code>03:59</code> and <code>23:20</code>. These times are in the local timezone of the patient, and if that timezone
is updated then the times will shift accordingly. For example, if the patient’s timezone is initially
<code>London/Europe</code> and they have a medication scheduled for <code>15:00</code> every day, if the timezone is updated
to <code>America/New_York</code> then the schedule will shift to <code>10:00</code> every day.</p>
<p>Times based on the patient’s habits can also be specified with the strings
<code>&quot;before_sleep&quot;</code>, <code>&quot;after_sleep&quot;</code>, <code>&quot;before_breakfast&quot;</code>, <code>&quot;after_breakfast&quot;</code>,
<code>&quot;before_lunch&quot;</code>, <code>&quot;after_lunch&quot;</code>, <code>&quot;before_dinner&quot;</code> and <code>&quot;after_dinner&quot;</code>, allowing the schedule
to specify, for example, that the patient should take the medication once after waking up
and once before sleeping. These are not affected by timezone changes: for example, if <code>breakfast</code>
is set to <code>10:00</code> while the timezone is <code>London/Europe</code>, <code>breakfast</code> will remain as <code>10:00</code> if
the timezone is updated to <code>America/New_York</code>.  This signifies that if medication is to be taken
with food at breakfast every morning, the patient should continue doing that even if the timezone
shifts.</p>
<ul>
<li>Joe should take his anti-Parkinsons meds at 3PM every week, until March 15</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"regularly"</span>,
    frequency: <span class="hljs-number">7</span>,
    times_of_day: [<span class="hljs-string">"15:00"</span>],
    stop_date: <span class="hljs-string">"2015-03-15"</span>
}
</code></pre>
<ul>
<li>Joe should take his Fexofenadine every day, once after waking and once after lunch</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"regularly"</span>,
    frequency: <span class="hljs-number">1</span>,
    times_of_day: [<span class="hljs-string">"after_sleep"</span>, <span class="hljs-string">"after_lunch"</span>]
}
</code></pre>
<h4 id="header-interval">Interval<a class="permalink" href="#header-interval"><i class="fa fa-link"></i></a></h4>
<p><code>interval</code> should be an integer specifying, in <strong>minutes</strong>, a regular interval that the
medication should be taken at. For example,</p>
<ul>
<li>Joe should take his Fexofenadine every 6 hours</li>
</ul>
<pre><code class="language-javascript">{
    type: <span class="hljs-string">"regularly"</span>,
    frequency: <span class="hljs-number">1</span>,
    interval: <span class="hljs-number">360</span>
}
</code></pre>
<div id="medications-medications-collection" class="resource"><h3>Medications Collection<a href="#medications-medications-collection" class="permalink"><i class="fa fa-link"></i></a></h3><div id="medications-medications-collection-post" class="action post"><h4><div class="name">Create a new Medication</div><a href="#medications-medications-collection-post" class="method post">POST</a><code class="uri">/patients/{patientid}/medications</code></h4><p>Store details of a new medication the patient has started taking. The current user
must have write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>human-formatted name of the medication</p>
</dd><dt>rx_norm</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>rxNorm ID code for the medication</p>
</dd><dt>ndc</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>NDC ID code for the medication</p>
</dd><dt>dose</dt><dd><code>dictionary</code>&nbsp;<span>(optional)</span>&nbsp;<p>Dose of medication the patient should take. Formatted as
<code>{quantity: QUANTITY, unit: UNIT}</code> where <code>QUANTITY</code> is numeric
and <code>UNIT</code> is a string (e.g., <code>&quot;mg&quot;</code>)</p>
</dd><dt>route</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>ROA of medication</p>
</dd><dt>form</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>pill</span></span></dd><dt>rx_number</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>RX control number of the prescription</p>
</dd><dt>quantity</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>number of medication in each ‘pack’</p>
</dd><dt>type</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>legal medication type: e.g., <code>&quot;OTC&quot;</code></p>
</dd><dt>schedule</dt><dd><code>dictionary</code>&nbsp;<span>(optional)</span>&nbsp;<p>a schedule datum in the form described above</p>
</dd><dt>doctor_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>ID of the doctor prescribing the patient’s medication. This doctor
must already exist in <code>/patients/:patientid/doctors</code></p>
</dd><dt>pharmacy_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>ID of the pharmacy selling the patient’s medication. This doctor
must already exist in <code>/patients/:patientid/doctors</code></p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Loratadine"</span>,
    rx_norm: <span class="hljs-string">"324026"</span>,
    ndc: <span class="hljs-string">"33261-0228"</span>,
    dose: {
        quantity: <span class="hljs-number">100</span>,
        unit: <span class="hljs-string">"mg"</span>
    },
    route: <span class="hljs-string">"oral"</span>,
    form: <span class="hljs-string">"pill"</span>,
    rx_number: <span class="hljs-string">"123456789"</span>,
    quantity: <span class="hljs-number">50</span>,
    type: <span class="hljs-string">"OTC"</span>,
    schedule: {
        type: <span class="hljs-string">"regularly"</span>,
        frequency: <span class="hljs-number">1</span>,
        times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
    },
    doctor_id: <span class="hljs-number">1</span>,
    pharmacy_id: <span class="hljs-number">1</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>name_required</code> (400) - medication must have a non-blank name</p>
</li>
<li>
<p><code>invalid_dose</code> (400) - medication dose specified in the format specified above</p>
</li>
<li>
<p><code>invalid_quantity</code> (400) - quantity not a positive integer</p>
</li>
<li>
<p><code>invalid_schedule</code> (400) - schedule is not specified in the format specified above</p>
</li>
<li>
<p><code>invalid_doctor_id</code> (400) - a doctor with that ID was not found</p>
</li>
<li>
<p><code>invalid_pharmacy_id</code> (400) - a pharmacy with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Loratadine"</span>,
    rx_norm: <span class="hljs-string">"324026"</span>,
    ndc: <span class="hljs-string">"33261-0228"</span>,
    dose: {
        quantity: <span class="hljs-number">100</span>,
        unit: <span class="hljs-string">"mg"</span>
    },
    route: <span class="hljs-string">"oral"</span>,
    form: <span class="hljs-string">"pill"</span>,
    rx_number: <span class="hljs-string">"123456789"</span>,
    quantity: <span class="hljs-number">50</span>,
    type: <span class="hljs-string">"OTC"</span>,
    schedule: {
        type: <span class="hljs-string">"regularly"</span>,
        frequency: <span class="hljs-number">1</span>,
        times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
    },
    doctor_id: <span class="hljs-number">1</span>,
    pharmacy_id: <span class="hljs-number">1</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="medications-medications-collection-get" class="action get"><h4><div class="name">Retrieve all Medications</div><a href="#medications-medications-collection-get" class="method get">GET</a><code class="uri">/patients/{patientid}/medications</code></h4><p>Get a list of all the patient’s medications. Includes full information on each, but
doctor and pharmacy details are not expanded out. The current user must have read
access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
<ul>
<li>offset (integer, optional)</li>
</ul>
<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code>, <code>name</code>, <code>dose</code> or <code>quantity</code>,
and defaults to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Filter results by name of medication. Performs fuzzy matching.</p>
</dd><dt>route</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>filter results (exactly) by ROA of medication</p>
</dd><dt>form</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>filter results (exactly) by form of medication</p>
</dd><dt>type</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>filter results (exactly) by type of medication</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    medications: [
        {
            id: <span class="hljs-number">1</span>,
            name: <span class="hljs-string">"Loratadine"</span>,
            rx_norm: <span class="hljs-string">"324026"</span>,
            ndc: <span class="hljs-string">"33261-0228"</span>,
            dose: {
                quantity: <span class="hljs-number">100</span>,
                unit: <span class="hljs-string">"mg"</span>
            },
            route: <span class="hljs-string">"oral"</span>,
            form: <span class="hljs-string">"pill"</span>,
            rx_number: <span class="hljs-string">"123456789"</span>,
            quantity: <span class="hljs-number">50</span>,
            type: <span class="hljs-string">"OTC"</span>,
            schedule: {
                type: <span class="hljs-string">"regularly"</span>,
                frequency: <span class="hljs-number">1</span>,
                times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
            },
            doctor_id: <span class="hljs-number">1</span>,
            pharmacy_id: <span class="hljs-number">1</span>
        },
        ...
    ],
    count: <span class="hljs-number">7</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="medications-medication" class="resource"><h3>Medication<a href="#medications-medication" class="permalink"><i class="fa fa-link"></i></a></h3><div id="medications-medication-get" class="action get"><h4><div class="name">Retrieve a Medication</div><a href="#medications-medication-get" class="method get">GET</a><code class="uri">/patients/{patientid}/medications/{medicationid}</code></h4><p>View information on an individual medication. Doctor and pharmacy details are expanded out.
The current user must have read access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>medicationid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the medication</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_medication_id</code> (404) - a medication with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Loratadine"</span>,
    rx_norm: <span class="hljs-string">"324026"</span>,
    ndc: <span class="hljs-string">"33261-0228"</span>,
    dose: {
        quantity: <span class="hljs-number">100</span>,
        unit: <span class="hljs-string">"mg"</span>
    },
    route: <span class="hljs-string">"oral"</span>,
    form: <span class="hljs-string">"pill"</span>,
    rx_number: <span class="hljs-string">"123456789"</span>,
    quantity: <span class="hljs-number">50</span>,
    type: <span class="hljs-string">"OTC"</span>,
    schedule: {
        type: <span class="hljs-string">"regularly"</span>,
        frequency: <span class="hljs-number">1</span>,
        times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
    },
    doctor: {
        id: <span class="hljs-number">1</span>,
        name: <span class="hljs-string">"Dr. Y"</span>,
        phone: <span class="hljs-string">"(716) 716-7166"</span>,
        address: <span class="hljs-string">"Doctor Street, DC, 20052"</span>,
        notes: <span class="hljs-string">"Love this doc the most!"</span>,
        success: <span class="hljs-literal">true</span>
    },
    pharmacy: {
        name: <span class="hljs-string">"Pharmacy X"</span>,
        address: <span class="hljs-string">"Pharmacy Street, DC, 20052"</span>
        phone: <span class="hljs-string">"(617) 617-6177"</span>,
        hours: {
            monday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            tuesday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            wednesday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            thursday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            friday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            saturday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            sunday: {
                open: <span class="hljs-string">"0900"</span>,
                close: <span class="hljs-string">"1700"</span>
            },
            notes: <span class="hljs-string">"Great pharmacy! Love the smell"</span>
        }
    },
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="medications-medication-put" class="action put"><h4><div class="name">Change a Med's Info</div><a href="#medications-medication-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/medications/{medicationid}</code></h4><p>Change information (all keys apart from <code>id</code>) of an individual medication. The current
user must have write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>medicationid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the medication (<em>url</em>)</p>
</dd><dt>name</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>human-formatted name of the medication</p>
</dd><dt>rx_norm</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>rxNorm ID code for the medication</p>
</dd><dt>ndc</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>NDC ID code for the medication</p>
</dd><dt>dose</dt><dd><code>dictionary</code>&nbsp;<span>(optional)</span>&nbsp;<p>As in <code>POST</code>. A whole new dictionary must be sent.</p>
</dd><dt>route</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>ROA of medication</p>
</dd><dt>form</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>pill</span></span></dd><dt>rx_number</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>RX control number of the prescription</p>
</dd><dt>quantity</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>number of medication in each ‘pack’</p>
</dd><dt>type</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>legal medication type: e.g., <code>&quot;OTC&quot;</code></p>
</dd><dt>schedule</dt><dd><code>dictionary</code>&nbsp;<span>(optional)</span>&nbsp;<p>As in <code>POST</code>. A whole new schedule must be sent.</p>
</dd><dt>doctor_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>ID of the doctor prescribing the patient’s medication</p>
</dd><dt>pharmacy_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>ID of the pharmacy selling the patient’s medication</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    name: <span class="hljs-string">"Fexofenadine"</span>,
    rx_norm: <span class="hljs-string">"12345"</span>,
    ndc: <span class="hljs-string">"1234-6789"</span>,
    dose: {
        quantity: <span class="hljs-number">120</span>,
        unit: <span class="hljs-string">"mg"</span>
    },
    route: <span class="hljs-string">"oral"</span>,
    form: <span class="hljs-string">"pill"</span>,
    rx_number: <span class="hljs-string">"123456789"</span>,
    quantity: <span class="hljs-number">50</span>,
    type: <span class="hljs-string">"OTC"</span>,
    schedule: {
        type: <span class="hljs-string">"regularly"</span>,
        frequency: <span class="hljs-number">1</span>,
        times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
    },
    doctor_id: <span class="hljs-number">1</span>,
    pharmacy_id: <span class="hljs-number">1</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>name_required</code> (400) - medication must have a non-blank name</p>
</li>
<li>
<p><code>invalid_dose</code> (400) - medication dose specified in the format specified above</p>
</li>
<li>
<p><code>invalid_quantity</code> (400) - quantity not a positive integer</p>
</li>
<li>
<p><code>invalid_schedule</code> (400) - schedule is not specified in the format specified above</p>
</li>
<li>
<p><code>invalid_doctor_id</code> (400) - a doctor with that ID was not found</p>
</li>
<li>
<p><code>invalid_pharmacy_id</code> (400) - a pharmacy with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Fexofenadine"</span>,
    rx_norm: <span class="hljs-string">"12345"</span>,
    ndc: <span class="hljs-string">"1234-6789"</span>,
    dose: {
        quantity: <span class="hljs-number">120</span>,
        unit: <span class="hljs-string">"mg"</span>
    },
    route: <span class="hljs-string">"oral"</span>,
    form: <span class="hljs-string">"pill"</span>,
    rx_number: <span class="hljs-string">"123456789"</span>,
    quantity: <span class="hljs-number">50</span>,
    type: <span class="hljs-string">"OTC"</span>,
    schedule: {
        type: <span class="hljs-string">"regularly"</span>,
        frequency: <span class="hljs-number">1</span>,
        times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
    },
    doctor_id: <span class="hljs-number">1</span>,
    pharmacy_id: <span class="hljs-number">1</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="medications-medication-delete" class="action delete"><h4><div class="name">Delete a Medication</div><a href="#medications-medication-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}/medications/{medicationid}</code></h4><p>Remove a single medication. The current user must have write access to the patient’s
data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>medicationid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the medication (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_medication_id</code> (404) - a medication with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Loratadine"</span>,
    rx_norm: <span class="hljs-string">"324026"</span>,
    ndc: <span class="hljs-string">"33261-0228"</span>,
    dose: {
        quantity: <span class="hljs-number">100</span>,
        unit: <span class="hljs-string">"mg"</span>
    },
    route: <span class="hljs-string">"oral"</span>,
    form: <span class="hljs-string">"pill"</span>,
    rx_number: <span class="hljs-string">"123456789"</span>,
    quantity: <span class="hljs-number">50</span>,
    type: <span class="hljs-string">"OTC"</span>,
    schedule: {
        type: <span class="hljs-string">"regularly"</span>,
        frequency: <span class="hljs-number">1</span>,
        times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
    },
    doctor_id: <span class="hljs-number">1</span>,
    pharmacy_id: <span class="hljs-number">1</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="dose-events" class="resource-group"><h2>Dose Events<a href="#dose-events" class="permalink"><i class="fa fa-link"></i></a></h2><p>A dose event is when the patient takes their medication (either when they’re
supposed to, <em>adhering</em>, or not, <em>non-adhering</em>).</p>
<div id="dose-events-dose-events-collection" class="resource"><h3>Dose Events Collection<a href="#dose-events-dose-events-collection" class="permalink"><i class="fa fa-link"></i></a></h3><div id="dose-events-dose-events-collection-post" class="action post"><h4><div class="name">Create an Event</div><a href="#dose-events-dose-events-collection-post" class="method post">POST</a><code class="uri">/patients/{patientid}/doses</code></h4><p>Store details of a new dose event (e.g., when a patient signifies they’ve
taken their medication). The current user will need write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>medication_id</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the medication for which the patient has adhered</p>
</dd><dt>date</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>2015-05-31T19:27:09+00:00</span></span><p>ISO 8601 combined date-time in UTC representing the date and time at which
<em>the patient took the medication</em></p>
</dd><dt>notes</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>free-text field for things such as observations and reactions recorded by the patient</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    medication_id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    notes: <span class="hljs-string">"Feeling sleepy now!"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>invalid_date</code> (400) - the date field specified is not in valid ISO 8601 format</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - no medication with the specified ID can be found</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    medication_id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    notes: <span class="hljs-string">"Feeling sleepy now!"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="dose-events-dose-events-collection-get" class="action get"><h4><div class="name">Retrieve all Adherences</div><a href="#dose-events-dose-events-collection-get" class="method get">GET</a><code class="uri">/patients/{patientid}/doses</code></h4><p>Get a list of all dose events for the patient. Includes full information on each,
but <code>medication_id</code> is not expanded out into <code>medication</code>. The current user will need
read access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>limit</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Maximum number of results to return. Defaults to 25.</p>
<ul>
<li>offset (integer, optional)</li>
</ul>
<p>Number of initial results to ignore (used in combination with <code>limit</code>)
for pagination. Defaults to 0.</p>
</dd><dt>sort_by</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Field to sort results by. Must by either <code>id</code> or <code>date</code>, and defaults
to <code>id</code>.</p>
</dd><dt>sort_order</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>The order to sort results by: either <code>asc</code> or <code>desc</code>. Defaults to
<code>asc</code>.</p>
</dd><dt>start_date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restrict results to events that took place after this date. Must be
a valid ISO 8601 datetime. Defaults to 0.</p>
</dd><dt>end_date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restrict results to events that took place before this date. Must be
a valid ISO 8601 datetime. Defaults to infinity.</p>
</dd><dt>medication_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restrict results to events for this medication. Must correspond to a medication
owned by the current patient. Defaults to not filtering by medication.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_limit</code> (400) - the specified result limit is invalid</p>
</li>
<li>
<p><code>invalid_offset</code> (400) - the specified result offset is invalid</p>
</li>
<li>
<p><code>invalid_sort_by</code> (400) - the specified sort field is invalid</p>
</li>
<li>
<p><code>invalid_sort_order</code> (400) - the specified sort order is invalid</p>
</li>
<li>
<p><code>invalid_start_date</code> (400) - the specified start date is an invalid ISO 8601 datetime</p>
</li>
<li>
<p><code>invalid_end_date</code> (400) - the specified end date is an invalid ISO 8601 datetime</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - the medication ID specified to sort by is invalid</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    doses: [
        {
            id: <span class="hljs-number">1</span>,
            medication_id: <span class="hljs-number">1</span>,
            date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
            notes: <span class="hljs-string">"Feeling sleepy now!"</span>
        },
        ...
    ],
    count: <span class="hljs-number">46</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="dose-events-adherence-event" class="resource"><h3>Adherence Event<a href="#dose-events-adherence-event" class="permalink"><i class="fa fa-link"></i></a></h3><div id="dose-events-adherence-event-get" class="action get"><h4><div class="name">Retrieve One Adherence</div><a href="#dose-events-adherence-event-get" class="method get">GET</a><code class="uri">/patients/{patientid}/dose/{doseid}</code></h4><p>View information on an individual dose event. <code>medication_id</code> is helpfully
expanded out into <code>medication</code>. The current user will need read access to the
patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>doseid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the dose</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_dose_id</code> (404) - a dose with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    notes: <span class="hljs-string">"Feeling sleepy now!"</span>,
    medication: {
        id: <span class="hljs-number">1</span>,
        name: <span class="hljs-string">"Loratadine"</span>,
        rx_norm: <span class="hljs-string">"324026"</span>,
        ndc: <span class="hljs-string">"33261-0228"</span>,
        dose: {
            quantity: <span class="hljs-number">100</span>,
            unit: <span class="hljs-string">"mg"</span>
        },
        route: <span class="hljs-string">"oral"</span>,
        form: <span class="hljs-string">"pill"</span>,
        rx_number: <span class="hljs-string">"123456789"</span>,
        quantity: <span class="hljs-number">50</span>,
        type: <span class="hljs-string">"OTC"</span>,
        schedule: {
            type: <span class="hljs-string">"regularly"</span>,
            frequency: <span class="hljs-number">1</span>,
            number_of_times: <span class="hljs-number">2</span>,
            times_of_day: [<span class="hljs-string">"after_lunch"</span>, <span class="hljs-string">"before_sleep"</span>]
        },
        doctor_id: <span class="hljs-number">1</span>,
        pharmacy_id: <span class="hljs-number">1</span>,
        success: <span class="hljs-literal">true</span>
    },
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="dose-events-adherence-event-put" class="action put"><h4><div class="name">Change an Event</div><a href="#dose-events-adherence-event-put" class="method put">PUT</a><code class="uri">/patients/{patientid}/dose/{doseid}</code></h4><p>Change information (medication, date and/or notes) of a single dose event. The current
user will need write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>doseid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the dose (<em>url</em>)</p>
</dd><dt>medication_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>ID of a medication to change the dose to. Must correspond to an existing
medication.</p>
</dd><dt>date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>new ISO 8601 datetime to change the date of the dose to</p>
</dd><dt>notes</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>String to change the notes field of the dose to. If blank, will save the notes
field blank correspondingly.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
    medication_id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    notes: <span class="hljs-string">"Not sleepy from this - forgot I took a melatonin pill earlier!"</span>
}
</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_dose_id</code> (404) - a dose with that ID was not found</p>
</li>
<li>
<p><code>invalid_date</code> (400) - the date field specified is not in valid ISO 8601 format</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - no medication with the specified ID can be found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    medication_id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    notes: <span class="hljs-string">"Not sleepy from this - forgot I took a melatonin pill earlier!"</span>,
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div><div id="dose-events-adherence-event-delete" class="action delete"><h4><div class="name">Delete an Event</div><a href="#dose-events-adherence-event-delete" class="method delete">DELETE</a><code class="uri">/patients/{patientid}/dose/{doseid}</code></h4><p>Remove a single dose event (this will update generated statistics correspondingly, so be careful!)
The current user will need write access to the patient’s data.</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient (<em>url</em>)</p>
</dd><dt>doseid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the dose (<em>url</em>)</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have write access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_dose_id</code> (404) - a dose event with that ID was not found</p>
</li>
</ul>
</div><h5>Body</h5><pre><code>{
    id: <span class="hljs-number">1</span>,
    medication_id: <span class="hljs-number">1</span>,
    date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
    notes: <span class="hljs-string">"Feeling sleepy now!"</span>
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="schedule" class="resource-group"><h2>Schedule<a href="#schedule" class="permalink"><i class="fa fa-link"></i></a></h2><div id="schedule-schedule" class="resource"><h3>Schedule<a href="#schedule-schedule" class="permalink"><i class="fa fa-link"></i></a></h3><div id="schedule-schedule-get" class="action get"><h4><div class="name">View Schedule</div><a href="#schedule-schedule-get" class="method get">GET</a><code class="uri">/patients/{patientid}/schedule</code></h4><p>Given that all medication data (including schedules in the <a href="#medications">required format</a>)
have been entered, this endpoint generates an easy-to-use schedule for when the patient
should take their medication over a specific date range.</p>
<p>If events are in the past, the schedule will contain a <code>took_medication</code> boolean indicating
whether the patient took the medication when they were required. If they did, then a
<code>delay</code> integer field will be present indicating the number of minutes late the patient was
when taking the medication. <code>delay</code> is signed: if the patient took the medication too early,
it will be negative.</p>
<p>Each event item can be one of two times: <code>time</code> and <code>date</code>. <code>time</code> items represent a specific
datetime at which the medication should be taken (and are formatted as an ISO-8601 datetime
in the patient’s <em>local</em> timezone). <code>date</code> items indicate that the medication can be taken at
any time on the specified day, and have the date formatted as <code>YYYY-MM-DD</code> in the patient’s
<em>local</em> timezone.</p>
<p>The schedule will also contain an overall <code>statistics</code> object, containing floats <code>took_medication</code>
(a mean average value for <code>took_medication</code> as a percentage out of 100), <code>delta</code> (a mean average
value of all of the <code>delay</code>s) and <code>delay</code> (a mean average value of the <strong>absolute values</strong> of all
the <code>delay</code>s). Each number in <code>statistics</code> will be <code>null</code> if there are no schedule events in
the past found (for example, if start date is in the future).</p>
<div class="title"><strong>Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>patientid</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<p>unique ID of the patient</p>
</dd><dt>start_date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>Start schedule at this date. Must be a valid ISO 8601 YYYY-MM-DD date. Defaults
to the current time.</p>
</dd><dt>end_date</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<p>End schedule at this date. Must be a valid ISO 8601 YYYY-MM-DD date. Defaults to exactly
one week later than the current time.</p>
</dd><dt>medication_id</dt><dd><code>integer</code>&nbsp;<span>(optional)</span>&nbsp;<p>Restricts the schedule to events for one medication only.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Bearer ACCESS_TOKEN</span><br></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><div class="description"><p>Errors</p>
<ul>
<li>
<p><code>access_token_required</code> (401) - no access token specified in
<code>Authorization</code> header</p>
</li>
<li>
<p><code>invalid_access_token</code> (401) - the access token specified is invalid</p>
</li>
<li>
<p><code>unauthorized</code> (403) - the current user does not have read access to this patient</p>
</li>
<li>
<p><code>invalid_patient_id</code> (404) - a patient with the specified ID was not found</p>
</li>
<li>
<p><code>invalid_medication_id</code> (400) - a medication with that ID was not found</p>
</li>
<li>
<p><code>invalid_start</code> (400) - a start date not formatted correctly as YYYY-MM-DD</p>
</li>
<li>
<p><code>invalid_end</code> (400) - an end date not formatted correctly as YYYY-MM-DD</p>
</li>
</ul>
</div><h5>Body</h5><pre><code><span class="hljs-comment">// This illustrates a response when the current date falls somewhere</span>
<span class="hljs-comment">// in the middle of the specified date range. In other cases, either</span>
<span class="hljs-comment">// the first or second type of schedule datums would of course not be present.</span>
{
    schedule: [
        {
            type: <span class="hljs-string">"time"</span>,
            date: <span class="hljs-string">"2015-03-31T19:27:09+00:00"</span>,
            medication_id: <span class="hljs-number">1</span>,
            took_medication: <span class="hljs-literal">true</span>,
            delay: -<span class="hljs-number">17</span>,
            dose_id: <span class="hljs-number">14</span>
        },
        {
            type: <span class="hljs-string">"time"</span>,
            date: <span class="hljs-string">"2015-03-31T19:27:09+00:00"</span>,
            medication_id: <span class="hljs-number">1</span>,
            took_medication: <span class="hljs-literal">false</span>
        },
        {
            type: <span class="hljs-string">"time"</span>,
            date: <span class="hljs-string">"2015-03-31T19:27:09+00:00"</span>,
            medication_id: <span class="hljs-number">1</span>,
            took_medication: <span class="hljs-literal">false</span>
        },
        ... <span class="hljs-comment">// more events that have already taken place</span>
        {
            type: <span class="hljs-string">"time"</span>,
            date: <span class="hljs-string">"2015-05-31T19:27:09+00:00"</span>,
            medication_id: <span class="hljs-number">1</span>
        },
        {
            <span class="hljs-comment">// no time specified, just the date</span>
            type: <span class="hljs-string">"date"</span>,
            date: <span class="hljs-string">"2015-05-31"</span>,
            medication_id: <span class="hljs-number">3</span>
        },
        ... <span class="hljs-comment">// more events in the future</span>
    ],
    <span class="hljs-comment">// only present if some events have already taken place</span>
    statistics: {
        took_medication: <span class="hljs-number">70.3</span>,
        delay: <span class="hljs-number">4</span>,
        delta: -<span class="hljs-number">1</span>
    },
    success: <span class="hljs-literal">true</span>
}
</code></pre><div style="height: 1px;"></div></div></div></div></div></section></div></div></div><p style="text-align: center;" class="text-muted">Generated by&nbsp;<a href="https://github.com/danielgtaylor/aglio" class="aglio">aglio</a>&nbsp;on 26 Jun 2015</p><script>function toggleCollapse(event) {
    var button = event.target.parentNode;
    var content = button.parentNode.nextSibling;
    var inner = content.children[0];

    if (button.className.indexOf('collapse-button') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        // Currently showing, so let's hide it
        button.className = 'collapse-button';
        content.style.maxHeight = '0px';
    } else {
        // Currently hidden, so let's show it
        button.className = 'collapse-button show';
        content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

// Make collapse buttons clickable
var buttons = document.querySelectorAll('.collapse-button');
for (var i = 0; i < buttons.length; i++) {
    buttons[i].onclick = toggleCollapse;

    // Show by default? Then toggle now.
    if (buttons[i].className.indexOf('show') !== -1) {
        toggleCollapse({target: buttons[i].children[0]});
    }
}

window.onload = function () {
    // Remove the `preload` class to enable animations
    document.querySelector('body').className = '';
};
</script></body></html>